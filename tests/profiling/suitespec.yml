---
components:
  profiling:
    - ddtrace/profiling/*
    - ddtrace/internal/datadog/profiling/*
    - ddtrace/internal/processor/endpoint_call_counter.py
    - ddtrace/internal/settings/profiling.py
suites:
  profile:
    env:
      DD_TRACE_AGENT_URL: ''
    # `riot list --hash-only profile-v2$ | wc -1` = 26
    venvs_per_job: 1
    paths:
      - '@bootstrap'
      - '@core'
      - '@profiling'
      - '@vendor'
      - tests/profiling/suitespec.yml
      - tests/profiling/*
    pattern: profile
    retry: 2
    runner: riot
