components:
  ci_visibility:
  - ddtrace/internal/ci_visibility/*
  - ddtrace/ext/test_visibility/*
  - ddtrace/ext/test.py
  dd_coverage:
  - ddtrace/internal/coverage/*
  pytest:
  - ddtrace/contrib/pytest/*
  - ddtrace/contrib/pytest_bdd/*
  - ddtrace/contrib/pytest_benchmark/*
  unittest:
  - ddtrace/contrib/unittest/*


suites:
  ci_visibility:
    runner: riot
    parallelism: 4
    snapshot: true
    paths:
    - '@ci_visibility'
    - '@ci'
    - '@coverage'
    - '@git'
    - '@pytest'
    - '@codeowners'
    - tests/ci_visibility/*
  dd_coverage:
    runner: hatch
    parallelism: 6
    snapshot: true
    paths:
    - '@bootstrap'
    - '@core'
    - '@tracing'
    - '@dd_coverage'
    - tests/coverage/*
  pytest:
    runner: riot
    parallelism: 12
    snapshot: true
    paths:
    - '@bootstrap'
    - '@core'
    - '@contrib'
    - '@tracing'
    - '@pytest'
    - '@ci_visibility'
    - '@coverage'
    - '@codeowners'
    - tests/contrib/pytest/*
    - tests/contrib/pytest_benchmark/*
    - tests/contrib/pytest_bdd/*
    - tests/snapshots/tests.contrib.pytest.*
  pytest_v2:
    runner: hatch
    parallelism: 10
    pattern: pytest_plugin_v2
    snapshot: true
    paths:
    - '@bootstrap'
    - '@core'
    - '@contrib'
    - '@tracing'
    - '@pytest'
    - '@ci_visibility'
    - '@coverage'
    - '@codeowners'
    - tests/contrib/pytest/*
    - tests/contrib/pytest_benchmark/*
    - tests/contrib/pytest_bdd/*
    - tests/snapshots/tests.contrib.pytest.*
  unittest:
    runner: riot
    snapshot: true
    paths:
    - '@contrib'
    - '@unittest'
    - '@ci_visibility'
    - '@coverage'
    - tests/contrib/unittest/*
    - tests/snapshots/tests.contrib.unittest.*
