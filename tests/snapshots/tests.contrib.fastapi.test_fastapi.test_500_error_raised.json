[[
  {
    "name": "fastapi.request",
    "service": "fastapi",
    "resource": "GET /500",
    "trace_id": 0,
    "span_id": 1,
    "parent_id": 0,
    "type": "web",
    "error": 1,
    "meta": {
      "_dd.base_service": "tests.contrib.fastapi",
      "_dd.p.dm": "-0",
      "_dd.p.tid": "699d775400000000",
      "_dd.svc.src": "true",
      "component": "fastapi",
      "error.message": "Server error",
      "error.stack": "Traceback (most recent call last):\n  File \"/home/bits/project/ddtrace/contrib/internal/asgi/middleware.py\", line 466, in __call__\n    return await self.app(scope, wrapped_recv, wrapped_send)\n  File \"/home/bits/project/.riot/venv_py3923_mock_pytest_pytest-mock_coverage_pytest-cov_opentracing_hypothesis6451_httpx0272_pytest-asyncio0211_python-multipart_pytest-randomly_requests_aiofiles_cloudpickle_fastapi/lib/python3.9/site-packages/starlette/middleware/errors.py\", line 186, in __call__\n    raise exc\n  File \"/home/bits/project/.riot/venv_py3923_mock_pytest_pytest-mock_coverage_pytest-cov_opentracing_hypothesis6451_httpx0272_pytest-asyncio0211_python-multipart_pytest-randomly_requests_aiofiles_cloudpickle_fastapi/lib/python3.9/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/home/bits/project/.riot/venv_py3923_mock_pytest_pytest-mock_coverage_pytest-cov_opentracing_hypothesis6451_httpx0272_pytest-asyncio0211_python-multipart_pytest-randomly_requests_aiofiles_cloudpickle_fastapi/lib/python3.9/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/home/bits/project/.riot/venv_py3923_mock_pytest_pytest-mock_coverage_pytest-cov_opentracing_hypothesis6451_httpx0272_pytest-asyncio0211_python-multipart_pytest-randomly_requests_aiofiles_cloudpickle_fastapi/lib/python3.9/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/bits/project/.riot/venv_py3923_mock_pytest_pytest-mock_coverage_pytest-cov_opentracing_hypothesis6451_httpx0272_pytest-asyncio0211_python-multipart_pytest-randomly_requests_aiofiles_cloudpickle_fastapi/lib/python3.9/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/bits/project/.riot/venv_py3923_mock_pytest_pytest-mock_coverage_pytest-cov_opentracing_hypothesis6451_httpx0272_pytest-asyncio0211_python-multipart_pytest-randomly_requests_aiofiles_cloudpickle_fastapi/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/bits/project/.riot/venv_py3923_mock_pytest_pytest-mock_coverage_pytest-cov_opentracing_hypothesis6451_httpx0272_pytest-asyncio0211_python-multipart_pytest-randomly_requests_aiofiles_cloudpickle_fastapi/lib/python3.9/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/home/bits/project/.riot/venv_py3923_mock_pytest_pytest-mock_coverage_pytest-cov_opentracing_hypothesis6451_httpx0272_pytest-asyncio0211_python-multipart_pytest-randomly_requests_aiofiles_cloudpickle_fastapi/lib/python3.9/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/home/bits/project/.riot/venv_py3923_mock_pytest_pytest-mock_coverage_pytest-cov_opentracing_hypothesis6451_httpx0272_pytest-asyncio0211_python-multipart_pytest-randomly_requests_aiofiles_cloudpickle_fastapi/lib/python3.9/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/home/bits/project/.riot/venv_py3923_mock_pytest_pytest-mock_coverage_pytest-cov_opentracing_hypothesis6451_httpx0272_pytest-asyncio0211_python-multipart_pytest-randomly_requests_aiofiles_cloudpickle_fastapi/lib/python3.9/site-packages/fastapi/routing.py\", line 120, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/home/bits/project/.riot/venv_py3923_mock_pytest_pytest-mock_coverage_pytest-cov_opentracing_hypothesis6451_httpx0272_pytest-asyncio0211_python-multipart_pytest-randomly_requests_aiofiles_cloudpickle_fastapi/lib/python3.9/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/bits/project/.riot/venv_py3923_mock_pytest_pytest-mock_coverage_pytest-cov_opentracing_hypothesis6451_httpx0272_pytest-asyncio0211_python-multipart_pytest-randomly_requests_aiofiles_cloudpickle_fastapi/lib/python3.9/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/bits/project/.riot/venv_py3923_mock_pytest_pytest-mock_coverage_pytest-cov_opentracing_hypothesis6451_httpx0272_pytest-asyncio0211_python-multipart_pytest-randomly_requests_aiofiles_cloudpickle_fastapi/lib/python3.9/site-packages/fastapi/routing.py\", line 106, in app\n    response = await f(request)\n  File \"/home/bits/project/.riot/venv_py3923_mock_pytest_pytest-mock_coverage_pytest-cov_opentracing_hypothesis6451_httpx0272_pytest-asyncio0211_python-multipart_pytest-randomly_requests_aiofiles_cloudpickle_fastapi/lib/python3.9/site-packages/fastapi/routing.py\", line 430, in app\n    raw_response = await run_endpoint_function(\n  File \"/home/bits/project/.riot/venv_py3923_mock_pytest_pytest-mock_coverage_pytest-cov_opentracing_hypothesis6451_httpx0272_pytest-asyncio0211_python-multipart_pytest-randomly_requests_aiofiles_cloudpickle_fastapi/lib/python3.9/site-packages/fastapi/routing.py\", line 316, in run_endpoint_function\n    return await dependant.call(**values)\n  File \"/home/bits/project/tests/contrib/fastapi/app.py\", line 120, in error\n    raise RuntimeError(\"Server error\")\nRuntimeError: Server error\n",
      "error.type": "builtins.RuntimeError",
      "http.method": "GET",
      "http.route": "/500",
      "http.status_code": "500",
      "http.url": "http://testserver/500",
      "http.useragent": "testclient",
      "http.version": "1.1",
      "language": "python",
      "runtime-id": "9d242ad9d6014b8e8b05c98324d108b2",
      "span.kind": "server"
    },
    "metrics": {
      "_dd.top_level": 1.0,
      "_dd.tracer_kr": 1.0,
      "_sampling_priority_v1": 1.0,
      "process_id": 82094.0
    },
    "duration": 2016375,
    "start": 1771927380028323217
  }]]
