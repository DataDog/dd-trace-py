.. include:: ./shared.rst

Datadog Python APM Client
=========================

``ddtrace`` is Datadog's Python APM client. It is used to profile code and
trace requests as they flow across web servers, databases and microservices.
This enables developers to have greater visibility into bottlenecks and
troublesome requests in their application.

Getting Started
---------------

For a basic product overview: check out the `setup documentation`_.

For details about developing and contributing: refer to the `development
guide`_.

For descriptions of the terminology of Datadog APM: take a look at the `official
documentation`_.


.. _`Supported Libraries`:

Supported Libraries
-------------------

dd-trace-py works with Python 3.8 and above.

The versions listed are the versions that we have tested, but ``ddtrace`` can
still be compatible with other versions of these libraries. If a version of a
library you use is unsupported, feel free to contribute or request it by
contacting support.


.. |SUPPVER| replace:: Supported Version
.. |AUTO| replace:: Automatically Instrumented


+--------------------------------------------------+---------------+----------------+
|                   Integration                    |  |SUPPVER|    | |AUTO|    [1]_ |
+==================================================+===============+================+
| :ref:`aiobotocore`                               | >= 1.0.0      | No             |
+--------------------------------------------------+---------------+----------------+
| :ref:`aiohttp` (client)                          | >= 3.7        | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`aiohttp` (server)                          | >= 3.7        | No             |
+--------------------------------------------------+---------------+----------------+
| :ref:`aiohttp_jinja2`                            | >= 1.5.0      | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`aiomysql`                                  | >= 0.1.0      | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`aiopg`                                     | >= 0.16.0     | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`algoliasearch`                             | >= 2.5.0      | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`anthropic`                                 | >= 0.28.0     | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`aredis`                                    | \*            | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`asgi`                                      | >= 3.0        | No             |
+--------------------------------------------------+---------------+----------------+
| :ref:`asyncio`                                   | \*            | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`asyncpg`                                   | >= 0.22.0     | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`avro`                                      | \*            | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`aws_lambda`                                | \*            | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`azure_functions`                           | >= 1.0.0      | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`botocore`                                  | \*            | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`bottle`                                    | >= 0.12       | No             |
+--------------------------------------------------+---------------+----------------+
| :ref:`cassandra`                                 | >= 3.24       | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`celery`                                    | >= 4.4        | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`cherrypy`                                  | >= 17.0       | No             |
+--------------------------------------------------+---------------+----------------+
| :ref:`confluent-kafka <kafka>`                   | >= 1.9.2      | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`consul`                                    | >= 1.1        | Yes [2]_       |
+--------------------------------------------------+---------------+----------------+
| :ref:`coverage`                                  | \*            | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`crewai`                                    | >= 0.102      | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`ddtrace_api`                               | \*            | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`django`                                    | >= 2.2.8      | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`djangorestframework <djangorestframework>` | >= 3.11       | No             |
+--------------------------------------------------+---------------+----------------+
| :ref:`dogpile.cache`                             | >= 0.9        | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`dramatiq`                                  | >= 1.0.0      | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`elasticsearch`                             | >= 1.10,< 8.0 | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`falcon`                                    | >= 3.0        | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`fastapi`                                   | >= 0.64       | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`flask`                                     | >= 1.0        | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`flask_cache`                               | >= 0.13       | No             |
+--------------------------------------------------+---------------+----------------+
| :ref:`freezegun`                                 | \*            | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`futures`                                   | \*            | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`gevent` (greenlet>=1.0)                    | >= 20.12      | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`google_generativeai`                       | >= 0.7.2      | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`grpc`                                      | >= 1.34       | Yes [4]_       |
+--------------------------------------------------+---------------+----------------+
| :ref:`graphene <graphql>`                        | >= 3.0.0      | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`graphql-core <graphql>`                    | >= 3.1        | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`gunicorn <gunicorn>`                       | >= 20.0.04    | No             |
+--------------------------------------------------+---------------+----------------+
| :ref:`httplib`                                   | \*            | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`httpx`                                     | >= 0.17       | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`jinja2`                                    | >= 2.10       | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`kombu`                                     | >= 4.2        | No             |
+--------------------------------------------------+---------------+----------------+
| :ref:`langchain`                                 | >= 0.1        | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`langgraph`                                 | \*            | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`litellm`                                   | \*            | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`logbook`                                   | >= 1.0.0      | No             |
+--------------------------------------------------+---------------+----------------+
| :ref:`logging`                                   | \*            | Yes [5]_       |
+--------------------------------------------------+---------------+----------------+
| :ref:`loguru`                                    | >= 0.3.0      | No             |
+--------------------------------------------------+---------------+----------------+
| :ref:`mako`                                      | >= 0.1.0      | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`mariadb`                                   | >= 1.0.0      | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`molten`                                    | >= 1.0        | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`mongoengine`                               | >= 0.23       | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`mysql-connector`                           | >= 8.0.5      | True           |
+--------------------------------------------------+---------------+----------------+
| :ref:`mysqldb`                                   | \*            | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`openai`                                    | >= 1.0        | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`openai-agents`                             | \*            | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`opensearch-py <elasticsearch>`             | >= 1.1        | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`protobuf`                                  | \*            | Yes [6]_       |
+--------------------------------------------------+---------------+----------------+
| :ref:`psycopg`                                   | >= 2.8        | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`pylibmc`                                   | >= 1.6.2      | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`pymemcache`                                | >= 3.4        | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`pymongo`                                   | >= 3.8        | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`pymysql`                                   | >= 0.10       | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`pynamodb`                                  | >= 5.0        | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`pyodbc`                                    | >= 4.0.31     | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`pyramid`                                   | >= 1.10       | No             |
+--------------------------------------------------+---------------+----------------+
| :ref:`pytest`                                    | >= 6.0        | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`pytest_bdd`                                | \*            | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`pytest_benchmark`                          | \*            | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`redis`                                     | \*            | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`rediscluster`                              | >= 2.0        | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`requests`                                  | >= 2.20       | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`rq`                                        | >= 1.8        | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`sanic`                                     | >= 20.12.0    | Yes [3]_       |
+--------------------------------------------------+---------------+----------------+
| :ref:`selenium`                                  | \*            | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`snowflake`                                 | >= 2.3.0      | No             |
+--------------------------------------------------+---------------+----------------+
| :ref:`sqlalchemy`                                | >= 1.3        | No             |
+--------------------------------------------------+---------------+----------------+
| :ref:`sqlite`                                    | \*            | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`sqlite3`                                   | \*            | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`starlette`                                 | >= 0.14.0     | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`structlog`                                 | >= 20.2.0     | No             |
+--------------------------------------------------+---------------+----------------+
| :ref:`subprocess`                                | \*            | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`tornado`                                   | >= 5.1        | No             |
+--------------------------------------------------+---------------+----------------+
| :ref:`unittest`                                  | \*            | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`urllib`                                    | \*            | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`urllib3`                                   | >= 1.25.0     | No             |
+--------------------------------------------------+---------------+----------------+
| :ref:`valkey`                                    | >= 6.0.0      | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`vertexai`                                  | >= 1.71.1     | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`vertica`                                   | >= 0.6        | Yes            |
+--------------------------------------------------+---------------+----------------+
| :ref:`webbrowser`                                | \*            | No             |
+--------------------------------------------------+---------------+----------------+
| :ref:`wsgi`                                      | \*            | No             |
+--------------------------------------------------+---------------+----------------+
| :ref:`yaaredis`                                  | >= 2.0.0      | Yes            |
+--------------------------------------------------+---------------+----------------+


.. [1] Libraries that are automatically instrumented when the
  :ref:`ddtrace-run<ddtracerun>` command is used or the ``import ddtrace.auto`` import
  is used. Always use ``import ddtrace.auto`` as soon
  as possible in your Python entrypoint.

.. [2] only the synchronous client

.. [3] only in Python 3.8 and above.

.. [4] ``grpc.aio`` is automatically instrumented starting with ``grpcio>=1.32.0``.

.. [5] logging integrations are enabled if ``config._logs_injection or [DD_LOGS_INJECTION]`` is ``True``.

.. [6] ``protobuf`` integration is enabled if ``config._data_streams_enabled or [DD_DATA_STREAMS_ENABLED]`` is ``True``.

.. _`Instrumentation Telemetry`:

Instrumentation Telemetry
-------------------------

Datadog may gather environmental and diagnostic information about instrumentation libraries; this includes information
about the host running an application, operating system, programming language and runtime, APM integrations used,
and application dependencies. Additionally, Datadog may collect information such as diagnostic logs, crash dumps
with obfuscated stack traces, and various system performance metrics.

To disable set ``DD_INSTRUMENTATION_TELEMETRY_ENABLED=false`` environment variable.

See our official `datadog documentation <https://docs.datadoghq.com/tracing/configure_data_security#telemetry-collection>`_ for more details.

Release Notes
-------------

You can view historical release notes for all past versions of this repository on
`GitHub <https://github.com/DataDog/dd-trace-py/releases>`_.

Indices and tables
==================

* :ref:`genindex`
* :ref:`modindex`
* :ref:`search`

.. toctree::
    :hidden:

    installation_quickstart
    configuration
    integrations
    basic_usage
    advanced_usage
    build_system
    benchmarks
    contributing
    troubleshooting
    versioning
    upgrading
    api
