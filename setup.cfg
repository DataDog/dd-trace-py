[bdist_wheel]
universal=1

# DEV: We use `conftest.py` as a local pytest plugin to configure hooks for collection
[tool:pytest]
# Common directories to ignore
addopts = --ignore "tests/utils" --ignore "tests/base" --benchmark-disable --durations=10
# DEV: The default is `test_*\.py` which will miss `test.py` files
python_files = test*\.py

[flake8]
max-line-length=120
exclude=
  .ddtox,.tox,
  .git,__pycache__,
  .eggs,*.egg,
  build,
  # We shouldn't lint our vendored dependencies
  ddtrace/vendor/
  ddtrace/profiling/exporter/pprof_pb2.py
  tests/profiling/_ast_test_file.py
  tests/profiling/simple_program_gevent.py
# Ignore:
# A003: XXX is a python builtin, consider renaming the class attribute
# G201 Logging: .exception(...) should be used instead of .error(..., exc_info=True)
# E231,W503: not respected by black
# We ignore most of the D errors because there are too many; the goal is to fix them eventually
ignore = W503,E231,A003,G201,D100,D101,D102,D103,D104,D105,D106,D107,D200,D202,D204,D205,D208,D210,D300,D400,D401,D403,D413,RST301
enable-extensions=G
rst-roles = class,meth,obj,ref
rst-directives = py:data
