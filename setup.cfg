[bdist_wheel]
universal=1

[codespell]
skip = *.json,*.cpp,*.c,.riot,.tox,.mypy_cache,.git,*ddtrace/vendor
ignore-words-list = asend,dne,fo,medias,ment,nin,ot,setttings,statics

[flake8]
max-line-length=120
exclude=
  .ddtox,.tox,.riot,.ddriot,.venv*
  .git,__pycache__,
  .eggs,*.egg,
  build,
  # We shouldn't lint our vendored dependencies
  ddtrace/vendor/*
  ddtrace/profiling/exporter/pprof_pb2.py
  ddtrace/profiling/exporter/pprof_pre319_pb2.py
  ddtrace/profiling/exporter/pprof_pre312_pb2.py
  tests/profiling/simple_program_gevent.py
  tests/contrib/grpc/hello_pb2.py

# Ignore:
# A003: XXX is a python builtin, consider renaming the class attribute
# G201 Logging: .exception(...) should be used instead of .error(..., exc_info=True)
# E231,W503,E203: not respected by black
# We ignore most of the D errors because there are too many; the goal is to fix them eventually
ignore = W503,E231,A003,G201,D100,D101,D102,D103,D104,D105,D106,D107,D200,D202,D204,D205,D208,D210,D300,D400,D401,D403,D413,RST301,B902,E203
enable-extensions=G
rst-roles = class,meth,obj,ref,func
rst-directives = py:data

# DEV: We use `conftest.py` as a local pytest plugin to configure hooks for collection
[tool:pytest]
# --cov-report is intentionally empty else pytest-cov will default to generating a report
addopts =
  --cov=ddtrace/
  --cov=tests/
  --cov-append
  --cov-report=
  --durations=10
  --junitxml=test-results/junit.xml
# DEV: The default is `test_*\.py` which will miss `test.py` files
python_files = test*\.py
filterwarnings =
    # Show any DeprecationWarnings once
    once::DeprecationWarning
asyncio_mode = auto

[mutmut]
runner=python -m pytest -x tests/profiling/test_traceback.py tests/vendor/msgpack/test_unpack.py tests/vendor/msgpack/test_buffer.py tests/opentracer/core/test_dd_compatibility.py tests/vendor/msgpack/test_subtype.py tests/benchmarks/test_span_id.py tests/opentracer/core/test_span_context.py tests/opentracer/core/__init__.py tests/opentracer/core/test_utils.py tests/vendor/test_dogstatsd.py tests/profiling/test_scheduler.py tests/opentracer/core/test_tracer.py tests/tracer/test_filters.py tests/profiling/exporter/test_file.py tests/profiling/test_nogevent.py tests/contrib/flask/test_errorhandler.py tests/contrib/tornado/test_config.py tests/contrib/flask_cache/test_utils.py tests/tracer/test_global_config.py tests/vendor/__init__.py tests/tracer/runtime/test_runtime_id.py tests/internal/py36/test_wrapping.py tests/vendor/msgpack/test_limits.py tests/vendor/test_contextvars.py tests/debugging/function/test_discovery.py tests/contrib/flask/test_template.py tests/contrib/asyncio/test_helpers.py tests/debugging/function/test_store.py tests/internal/test_wrapping.py tests/tracer/__init__.py tests/tracer/runtime/test_tag_collectors.py tests/tracer/runtime/test_metric_collectors.py tests/tracer/test_agent.py tests/integration/test_integration_snapshots.py tests/internal/py36/__init__.py tests/tracer/test_single_span_sampling_rule.py tests/contrib/pymongo/test_spec.py tests/internal/test_utils_version.py tests/contrib/tornado/__init__.py tests/contrib/flask/__init__.py tests/contrib/tornado/test_safety.py tests/contrib/gevent/test_provider.py tests/tracer/test_hostname.py tests/tracer/test_memory_leak.py tests/contrib/flask/test_idempotency.py tests/contrib/sqlalchemy/test_sqlite.py tests/tracer/test_tagset.py tests/debugging/probe/__init__.py tests/internal/py35/test_wrapping.py tests/contrib/celery/test_old_style_task.py tests/tracer/test_single_span_sampling_rules.py tests/vendor/msgpack/test_case.py tests/profiling/collector/test_threading_asyncio.py tests/contrib/futures/test_propagation.py tests/opentracer/__init__.py tests/contrib/asyncio/__init__.py tests/debugging/function/__init__.py tests/tracer/test_sampling_decision.py tests/contrib/flask/test_flask_helpers.py tests/contrib/pymemcache/test_client_mixin.py tests/profiling/exporter/test_packages.py tests/debugging/probe/test_status.py tests/contrib/asyncio/test_tracer_safety.py tests/tracer/test_sma.py tests/tracer/test_version.py tests/tracer/test_constants.py tests/debugging/probe/test_remoteconfig.py tests/contrib/mako/test_mako.py tests/contrib/flask/test_signals.py tests/vendor/msgpack/test_except.py tests/contrib/flask/test_blueprint.py tests/appsec/iast/test_processor.py tests/debugging/snapshot/__init__.py tests/contrib/flask/test_request.py tests/debugging/probe/test_model.py tests/debugging/test_uploader.py tests/profiling/collector/test_traceback.py tests/profiling/test_uwsgi.py tests/contrib/sqlite3/test_sqlite3.py tests/contrib/flask/test_flask_appsec.py tests/contrib/asyncio/test_patch.py tests/internal/test_safety.py tests/contrib/tornado/test_stack_context.py tests/internal/test_injection.py tests/appsec/iast/test_weak_hash.py tests/tracer/test_utils.py tests/debugging/py35/__init__.py tests/tracer/runtime/test_metrics.py tests/debugging/test_encoding.py tests/contrib/requests/test_requests_distributed.py tests/profiling/collector/test_collector.py tests/contrib/bottle/test.py tests/internal/__init__.py tests/tracer/test_service.py tests/opentracer/test_tracer_asyncio.py tests/contrib/tornado/test_tornado_template.py tests/appsec/test_remoteconfiguration.py tests/contrib/falcon/test_middleware.py tests/contrib/asyncio/test_propagation.py tests/integration/test_trace_stats.py tests/contrib/tornado/test_tornado_web.py tests/contrib/mako/__init__.py tests/contrib/flask_cache/__init__.py tests/contrib/jinja2/__init__.py tests/contrib/tornado/test_executor_decorator.py tests/contrib/flask/test_hooks.py tests/contrib/flask/test_views.py tests/internal/py35/__init__.py tests/tracer/test_processors.py tests/debugging/probe/test_registry.py tests/contrib/futures/__init__.py tests/contrib/sqlite3/__init__.py tests/opentracer/test_tracer_gevent.py tests/debugging/test_expressions.py tests/profiling/collector/__init__.py tests/tracer/test_periodic.py tests/internal/test_metrics.py tests/contrib/asyncio/test_tracer.py tests/contrib/logging/test_logging.py tests/contrib/tornado/test_wrap_decorator.py tests/tracer/test_context.py tests/contrib/falcon/__init__.py tests/integration/__init__.py tests/contrib/logging/__init__.py tests/contrib/djangorestframework/test_djangorestframework.py tests/contrib/flask_cache/test.py tests/appsec/iast/__init__.py tests/debugging/test_config.py tests/internal/test_codeowners.py tests/contrib/bottle/test_distributed.py tests/tracer/test_instance_config.py tests/contrib/celery/test_patch.py tests/contrib/flask/test_static.py tests/tracer/test_settings.py tests/tracer/test_pin.py tests/tracer/test_hooks.py tests/integration/test_context_snapshots.py tests/contrib/jinja2/test_jinja2.py tests/vendor/msgpack/test_seq.py tests/appsec/test_ddwaf_fuzz.py tests/appsec/iast/test_overhead_control_engine.py tests/contrib/flask_cache/test_wrapper_safety.py tests/contrib/bottle/__init__.py tests/contrib/dogpile_cache/__init__.py tests/vendor/msgpack/test_read_size.py tests/contrib/grpc/test_grpc_utils.py tests/tracer/test_rate_limiter.py tests/integration/test_propagation.py tests/contrib/sanic/test_sanic.py tests/appsec/iast/test_weak_ciper.py tests/debugging/snapshot/test_collector.py tests/profiling/collector/test_asyncio.py tests/contrib/pymemcache/__init__.py tests/debugging/py35/test_async.py tests/contrib/falcon/test_distributed_tracing.py tests/tracer/test_compat.py tests/contrib/pyramid/utils.py tests/profiling/collector/test_stack_asyncio.py tests/contrib/pymemcache/test_client.py tests/appsec/__init__.py tests/opentracer/core/test_span.py tests/internal/test_glob_matcher.py tests/contrib/dbapi/__init__.py tests/internal/test_utils_http.py tests/profiling/collector/test_memalloc.py tests/tracer/test_rand.py tests/vendor/msgpack/test_pack.py tests/tracer/runtime/test_container.py tests/contrib/djangorestframework/__init__.py tests/tracer/test_http.py tests/benchmarks/test_glob_matching.py tests/benchmarks/test_tracer.py tests/tracer/test_env_vars.py tests/tracer/runtime/__init__.py 

