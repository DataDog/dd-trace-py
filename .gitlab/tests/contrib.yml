elasticsearch:
  extends: .test_base_riot_snapshot
  parallel: 17
  services:
    - !reference [.test_base_riot_snapshot, services]
    - !reference [.services, elasticsearch]
    - !reference [.services, opensearch]
  variables:
    SUITE_NAME: "elasticsearch"

fastapi:
  extends: .test_base_riot_snapshot
  variables:
    SUITE_NAME: "fastapi"

flask:
  extends: .test_base_riot_snapshot
  parallel: 14
  services:
    - !references [.test_base_riot_snapshot, services]
    - !reference [.services, memcached]
    - !reference [.services, redis]
  variables:
    SUITE_NAME: "flask"
    TEST_MEMCACHED_HOST: "memcached"
    TEST_REDIS_HOST: "redis"
