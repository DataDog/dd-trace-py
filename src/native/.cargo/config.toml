[build]
rustflags = ["-C", "relocation-model=pic"]

[target.'cfg(target_os = "windows")']
rustflags = [
    "-C", "target-feature=+crt-static"
]

[target.x86_64-unknown-linux-musl]
rustflags = ["-C", "target-feature=-crt-static"]

[target.aarch64-unknown-linux-musl]
rustflags = ["-C", "target-feature=-crt-static"]

[net]
# Increase retries for GitHub API failures (default is 3)
# Handles HTTP 503, 429, and other transient errors
retry = 10

# Use system git for better reliability and retry handling
git-fetch-with-cli = true

[http]
# Timeout for HTTP operations (3 minutes)
# Prevents hanging on slow/unresponsive servers
timeout = 180
