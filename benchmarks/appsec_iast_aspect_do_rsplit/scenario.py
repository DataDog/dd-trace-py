# Note: this is autogenerated using the script benchmarks/bm/iast_utils/aspects_benchmarks_generate.py.
# DO NOT EDIT THIS FILE MANUALLY OR IT COULD BE OVERWRITTEN.

from benchmarks import bm
from benchmarks.bm.utils import override_env
from tests.appsec.iast.fixtures.aspects import str_methods as mod_unpatched_str_methods


with override_env({"DD_IAST_ENABLED": "True"}):
    from tests.appsec.iast.aspects.conftest import _iast_patched_module

    mod_patched_methods = _iast_patched_module("tests.appsec.iast.fixtures.aspects.str_methods")


class IAST_Aspects_do_rsplit(bm.Scenario):
    iast_enabled: bool

    def run(self):
        def _(loops):
            for _ in range(loops):
                if self.iast_enabled:
                    mod_patched_methods.do_rsplit(*("foo bar baz", " ", 1))
                else:
                    mod_unpatched_str_methods.do_rsplit(*("foo bar baz", " ", 1))

        yield _
